rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    match /samples {
        // every can read everything
        match /{allImages=**} {
            allow read;
        }

        // only admin can upload public
        match /public/{image} {
            allow write: if request.auth!=null; // todo: if admin
        }

        // users can upload in their own folder
        match /user/{userId}/{image} {
            allow write: if request.auth.uid == userId;
        }
    }

  }
}
